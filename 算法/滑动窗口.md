# 滑动窗口

[地址](https://algo.itcharge.cn/01.Array/05.Array-Sliding-Window/01.Array-Sliding-Window/)

#### 1. 滑动窗口算法介绍

> 滑动窗口（Sliding Window）：在给定数组 / 字符串上维护一个固定长度或不定长度的窗口。可以对窗口进行滑动操作、缩放操作，以及维护最优解操作。

- 滑动操作：窗口可按照一定方向进行移动。最常见的是向右侧移动。
- 缩放操作：对于不定长度的窗口，可以从左侧缩小窗口长度，也可以从右侧增大窗口长度。

**滑动窗口利用了双指针中的快慢指针技巧**，我们可以将滑动窗口看做是快慢指针两个指针中间的区间，也可以将滑动窗口看做是快慢指针的一种特殊形式。

#### 2. 滑动窗口适用范围

滑动窗口算法一般用来解决一些查找**满足一定条件的连续区间的性质**（长度等）的问题。该算法可以将一部分问题中的嵌套循环转变为一个单循环，因此它可以减少时间复杂度。

根据问题，我们可以将滑动窗口分为以下两种：

- **固定长度窗口**：窗口大小是固定的。

- 不定长度窗口

  ：窗口大小是不固定的。

  - 求解最大的满足条件的窗口。
  - 求解最小的满足条件的窗口。

下面来分别讲解一下这两种类型题目。

#### 3. 固定长度窗口

##### 3.1 固定长度窗口求解步骤

假设窗口的固定大小为 `window_size`。

1. 使用两个指针 `left`、`right`。初始时，`left` 、`right` 都指向序列的第一个元素，即：`left = 0`，`right = 0` ，区间 `[left, right]` 被称为一个「窗口」。
2. 当窗口未达到 `window_size` 大小时，不断移动 `right`，先将 `window_size` 个元素填入窗口中。
3. 当窗口达到`window_size`大小时，判断窗口内的连续元素是否满足题目限定的条件。
   1. 如果满足，再根据要求更新最优解。
   2. 然后向右移动 `left`，从而缩小窗口长度，即 `left += 1`，使得窗口大小始终保持为 `window_size`。
4. 向右移动 `right`，将元素填入窗口中。
5. 重复 2 ~ 4 步，直到 `right` 到达序列末尾。

##### 3.2 固定长度窗口模板

```
left = 0
right = 0

while right < len(nums):
    window.append(nums[right])
    
    # 超过窗口大小时，缩小窗口，维护窗口中始终为 window_size 的长度
    if right - left + 1 >= window_size:
        # ... 维护答案
        window.popleft()
        left += 1
    
    # 向右侧增大窗口
    right += 1
```

##### [题目示例](https://algo.itcharge.cn/01.Array/05.Array-Sliding-Window/01.Array-Sliding-Window/)

#### 4. 不定长度窗口

##### 4.1 不定长度窗口求解步骤 

1. 使用两个指针 `left`、`right`。初始时，`left`、`right` 都指向序列的第一个元素。即：`left = 0`，`right = 0`，区间 `[left, right]` 被称为一个「窗口」。
2. 将区间最右侧元素添加入窗口中，即 `window.add(s[right])`。
3. 然后向右移动 `right`，从而增大窗口长度，即 `right += 1`。直到窗口中的连续元素满足要求。
4. 此时，停止增加窗口大小。转向不断将左侧元素移出窗口，即 `window.popleft(s[left])`。
5. 然后向右移动 `left`，从而缩小窗口长度，即 `left += 1`。直到窗口中的连续元素不再满足要求。
6. 重复 2 ~ 5 步，直到 `right` 到达序列末尾。

##### 4.2 不定长度窗口模板

```
left = 0
right = 0

while right < len(nums):
    window.append(nums[right])
    
    while 窗口需要缩小:
        # ... 可维护答案
        window.popleft()
        left += 1
    
    # 向右侧增大窗口
    right += 1
```

#### [题目](